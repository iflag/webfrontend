{"version":3,"sources":["components/feature/main-page/memo/todo-item.tsx","components/feature/main-page/memo/todo-list.tsx"],"names":["TodoItem","observer","todo","todoStore","editing","setEditing","useState","checked","setChecked","contents","setContents","useEffect","completed","className","onSubmit","e","preventDefault","editTodo","id","type","onClick","deleteTodo","value","onChange","target","onContextMenu","completeTodo","memo","TodoList","authStore","useStoreContext","showAddForm","setShowAddForm","refreshTodoList","onLogin","handleSubmitTodo","a","addTodo","error","alert","request","response","prev","placeholder","todoList","map"],"mappings":"2OAaMA,EAAWC,aAAS,YAAsD,IAAnDC,EAAkD,EAAlDA,KAAMC,EAA4C,EAA5CA,UAAWC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,WAAwB,EAC/CC,oBAA8B,GADiB,mBACtEC,EADsE,KAC7DC,EAD6D,OAG7CF,mBAAS,IAHoC,mBAGtEG,EAHsE,KAG5DC,EAH4D,KAK7EC,qBAAU,WACRH,EAAWN,EAAKU,WAChBF,EAAYR,EAAKO,YAChB,IAiBH,OACE,oBAAII,UAAU,WAAd,SACIT,EAqBA,uBAAMS,UAAU,oBAAoBC,SA7Bb,SAACC,GAC5BA,EAAEC,iBACFb,EAAUc,SAASf,EAAKgB,GAAIT,GAC5BJ,GAAW,IA0BP,UACE,wBACEQ,UAAU,wBACVM,KAAK,SACLC,QA1CsB,WAC9BjB,EAAUkB,WAAWnB,EAAKgB,KAsCpB,SAKE,cAAC,IAAD,MAEF,uBACEL,UAAU,0BACVS,MAAOb,EACPc,SAAU,SAACR,GACTL,EAAYK,EAAES,OAAOF,UAGzB,wBAAQT,UAAU,2BAA2BM,KAAK,SAAlD,qBAnCF,qCACE,mBACEN,UAAS,4BAAuBN,GAAW,WAC3CkB,cAAe,SACbV,GAEAA,EAAEC,iBACFX,GAAW,IANf,SASGI,IAEH,uBACEU,KAAK,WACLN,UAAU,oBACVN,QAASA,EACTgB,SA9BkB,SAACR,GAC3BP,EAAWO,EAAES,OAAOjB,SACpBJ,EAAUuB,aAAaxB,EAAKgB,eAwDjBS,iBAAK3B,G,gBClEd4B,EAAW3B,aAAS,YAA2B,IAAD,EAAvB4B,EAAuB,EAAvBA,UACnB1B,EAAc2B,cAAd3B,UAD0C,EAElBG,mBAAS,IAFS,mBAE3CG,EAF2C,KAEjCC,EAFiC,OAGZJ,oBAAS,GAHG,mBAG3CyB,EAH2C,KAG9BC,EAH8B,OAIpB1B,oBAAS,GAJW,mBAI3CF,EAJ2C,KAIlCC,EAJkC,KAMlDM,qBAAU,WACRR,EAAU8B,oBACT,CAACJ,EAAUK,UAEd,IAAMC,EAAgB,uCAAG,WAAOpB,GAAP,SAAAqB,EAAA,yDACvBrB,EAAEC,iBACe,KAAbP,EAFmB,iDAIvB,IACEN,EAAUkC,QAAQ5B,GAClBC,EAAY,IACZ,MAAO4B,GACPC,MAAMD,EAAME,QAAQC,UARC,2CAAH,sDAYtB,OACE,sBAAK5B,UAAU,WAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,mBAAGA,UAAU,iBAAb,kBACA,sBAAKA,UAAU,sBAAf,UACE,wBACEA,UAAU,uBACVO,QAAS,kBAAMY,GAAe,SAACU,GAAD,OAAWA,MAF3C,SAIGX,EAAc,cAAC,IAAD,IAAwB,cAAC,IAAD,MAEzC,wBACElB,UAAU,sBACVO,QAAS,kBAAMf,GAAW,SAACqC,GAAD,OAAWA,MAFvC,SAIE,cAAC,IAAD,YAILX,GACC,uBACElB,UAAU,mBACVC,SAAU,SAACC,GAAD,OACRoB,EAAiBpB,IAHrB,UAME,uBACEF,UAAU,sBACVS,MAAOb,EACPc,SAAU,SAACR,GACTL,EAAYK,EAAES,OAAOF,QAEvBqB,YAAY,2EAEd,wBAAQxB,KAAK,SAASN,UAAU,qBAAhC,oBAKJ,oBAAIA,UAAU,gBAAd,mBACGV,EAAUyC,gBADb,aACG,EAAoBC,KACnB,SACE3C,GADF,OAME,cAAC,EAAD,CAEEA,KAAMA,EACNC,UAAWA,EACXC,QAASA,EACTC,WAAYA,GAJPH,EAAKgB,eAaTU","file":"static/js/7.2e483400.chunk.js","sourcesContent":["import React, { memo, useEffect, useState } from \"react\";\nimport \"components/feature/main-page/memo/todo-item.scss\";\nimport { AiOutlineClose } from \"react-icons/ai\";\nimport { Todo } from \"components/feature/main-page/memo/todo-list\";\nimport { observer } from \"mobx-react\";\nimport TodoStore from \"stores/todo-store\";\ntype Props = {\n  todo: Todo;\n  todoStore: TodoStore;\n  editing: boolean;\n  setEditing: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\nconst TodoItem = observer(({ todo, todoStore, editing, setEditing }: Props) => {\n  const [checked, setChecked] = useState<boolean | undefined>(false);\n\n  const [contents, setContents] = useState(\"\");\n\n  useEffect(() => {\n    setChecked(todo.completed);\n    setContents(todo.contents);\n  }, []);\n\n  const handleClickDeleteButton = () => {\n    todoStore.deleteTodo(todo.id);\n  };\n\n  const handleChangeChecked = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setChecked(e.target.checked);\n    todoStore.completeTodo(todo.id);\n  };\n\n  const handleSubmitEditTodo = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    todoStore.editTodo(todo.id, contents);\n    setEditing(false);\n  };\n\n  return (\n    <li className=\"todoItem\">\n      {!editing ? (\n        <>\n          <p\n            className={`todoItem-contents ${checked && \"checked\"}`}\n            onContextMenu={(\n              e: React.MouseEvent<HTMLParagraphElement, MouseEvent>\n            ) => {\n              e.preventDefault();\n              setEditing(true);\n            }}\n          >\n            {contents}\n          </p>\n          <input\n            type=\"checkbox\"\n            className=\"todoItem-checkbox\"\n            checked={checked}\n            onChange={handleChangeChecked}\n          />\n        </>\n      ) : (\n        <form className=\"todoItem-editForm\" onSubmit={handleSubmitEditTodo}>\n          <button\n            className=\"todoItem-deleteButton\"\n            type=\"button\"\n            onClick={handleClickDeleteButton}\n          >\n            <AiOutlineClose />\n          </button>\n          <input\n            className=\"todoItem-editForm-input\"\n            value={contents}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              setContents(e.target.value);\n            }}\n          />\n          <button className=\"todoItem-editForm-button\" type=\"submit\">\n            edit\n          </button>\n        </form>\n      )}\n    </li>\n  );\n});\n\nexport default memo(TodoItem);\n","import React, { useState, useEffect } from \"react\";\nimport \"components/feature/main-page/memo/todo-list.scss\";\nimport TodoItem from \"./todo-item\";\nimport AuthStore from \"stores/auth-store\";\nimport { observer } from \"mobx-react\";\nimport { AiFillMinusCircle, AiFillPlusCircle } from \"react-icons/ai\";\nimport { IoMdSettings } from \"react-icons/io\";\nimport { useStoreContext } from \"contexts/store-context\";\n\ntype Props = {\n  authStore: AuthStore;\n};\n\nexport type Todo = {\n  completed: boolean;\n  contents: string;\n  id: number;\n};\n\nconst TodoList = observer(({ authStore }: Props) => {\n  const { todoStore } = useStoreContext();\n  const [contents, setContents] = useState(\"\");\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [editing, setEditing] = useState(false);\n\n  useEffect(() => {\n    todoStore.refreshTodoList();\n  }, [authStore.onLogin]);\n\n  const handleSubmitTodo = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (contents === \"\") return;\n\n    try {\n      todoStore.addTodo(contents);\n      setContents(\"\");\n    } catch (error) {\n      alert(error.request.response);\n    }\n  };\n\n  return (\n    <div className=\"todoList\">\n      <div className=\"todoList-header\">\n        <p className=\"todoList-title\">Todo</p>\n        <div className=\"todoList-buttonList\">\n          <button\n            className=\"todoList-showAddForm\"\n            onClick={() => setShowAddForm((prev) => !prev)}\n          >\n            {showAddForm ? <AiFillMinusCircle /> : <AiFillPlusCircle />}\n          </button>\n          <button\n            className=\"todoList-editButton\"\n            onClick={() => setEditing((prev) => !prev)}\n          >\n            <IoMdSettings />\n          </button>\n        </div>\n      </div>\n      {showAddForm && (\n        <form\n          className=\"todoList-addTodo\"\n          onSubmit={(e: React.FormEvent<HTMLFormElement>) =>\n            handleSubmitTodo(e)\n          }\n        >\n          <input\n            className=\"todoList-addContent\"\n            value={contents}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n              setContents(e.target.value);\n            }}\n            placeholder=\"새로운 할 일을 추가하세요!\"\n          />\n          <button type=\"submit\" className=\"todoList-addButton\">\n            add\n          </button>\n        </form>\n      )}\n      <ul className=\"todoList-main\">\n        {todoStore.todoList?.map(\n          (\n            todo: Todo\n          ): React.DetailedHTMLProps<\n            React.HTMLAttributes<HTMLParagraphElement>,\n            HTMLParagraphElement\n          > => (\n            <TodoItem\n              key={todo.id}\n              todo={todo}\n              todoStore={todoStore}\n              editing={editing}\n              setEditing={setEditing}\n            />\n          )\n        )}\n      </ul>\n    </div>\n  );\n});\n\nexport default TodoList;\n"],"sourceRoot":""}