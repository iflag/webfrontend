{"version":3,"sources":["utils/bookmark-data.ts","stores/bookmark-form-store.ts","stores/bookmark-store.ts","utils/auth-service.ts","stores/login-form-store.ts","stores/register-form-store.ts","stores/auth-store.ts","stores/folder-store.ts","utils/note-data.ts","stores/note-store.ts","utils/todo-data.ts","stores/todo-store.ts","stores/root-store.ts","contexts/store-context.tsx","components/feature/header/auth/login.tsx","components/feature/header/auth/register.tsx","components/feature/header/auth/auth.tsx","utils/local-storage.ts","assets/images/github.svg","assets/images/ddg.svg","assets/images/google.svg","assets/images/naver.png","assets/images/wa.svg","assets/images/iflag-logo.svg","components/layout/header.tsx","components/layout/footer.tsx","utils/user-data.ts","components/layout/index.tsx","pages/main-page/main-page.tsx","App.tsx","index.js","utils/api.ts"],"names":["BookmarkData","base","bookmarkUrl","this","axios","create","baseURL","API_HOST","API_URL","bookmarks","a","token","getStorageItem","storageAccessKey","config","headers","Authorization","get","response","title","url","description","category_title","data","post","categories","id","put","info","delete","name","search","result","BookmarkForm","root","rootStore","categoryTitle","checkUrl","slice","concat","makeObservable","observable","setTitle","action","setUrl","setDescription","setCategoryTitle","resetInfo","newTitle","newUrl","newDescription","newCategotyTitle","BookmarkStore","authStore","folderStore","bookmarkData","rootBookmarks","bookmarksInFolder","bookmarkForm","setRootBookmarks","setBookmarksInFolder","getAllRootBookmarks","searchBookmarks","addBookmark","editBookmarkInfo","deleteBookmark","refreshBookmarkListInFolder","newRootBookmarks","newBookmarksInFolder","checkAccessToken","getAllBookmarks","status","logout","alert","request","searchInput","getAllFolders","length","setFolderInfoList","fixedUrl","appendBookmark","getAllBookmarksInFolder","AuthService","userUrl","users","email","verification","code","verificationCode","password","signup","signin","removeStorageItem","storageRefreshKey","storageAccessTokenExp","console","log","refresh","accessToken","refreshToken","parseInt","Date","now","toString","LoginForm","loaded","setLoaded","setEmail","setPassword","newLoadState","newEmail","newPassword","RegisterForm","step","setStep","setVerificationCode","nextStep","newVerificationCode","AuthStore","onLogin","requireRefresh","handleToken","authService","registerForm","loginForm","login","verificateEmail","checkVerificationCode","register","checkLoginState","setRequireRefresh","reaction","then","setStorageItem","accessTokenExp","isTokenExpired","e","state","FolderStore","folderInfoList","folderNameList","setFolderNameList","addFolder","editFolderName","deleteFolder","getAllFolderInfo","newFolderNameList","map","changeFolderName","NoteData","noteUrl","notes","contents","NoteStore","noteData","note","setNote","refreshNoteContents","editNoteContents","deleteNoteContents","content","getNoteContents","editNote","deleteAllNote","TodoData","todoUrl","todo","completed","TodoStore","todoData","todoList","setTodoList","refreshTodoList","addTodo","deleteTodo","completeTodo","editTodo","todos","getAllTodoList","updateTodo","RootStore","bookmarkStore","noteStore","todoStore","StoreContext","createContext","useStoreContext","useContext","LoadingSpinner","styled","div","Login","observer","setShowSelectedForm","useEffect","handleSubmitLogin","preventDefault","className","onSubmit","type","placeholder","value","onChange","target","required","onClick","Register","showHeader","checkPasswordLength","useMemo","handleSubmitEmail","handleSubmitCode","handleSubmitPassword","DarkModalSection","Auth","showSelectedForm","key","initialValue","item","window","localStorage","getItem","JSON","parse","error","setItem","stringify","removeItem","Header","userData","useState","toggleButtonList","setToggleButtonList","image","GoogleIcon","abbreviation","fullName","selectedSearchEngine","setSelectedSearchEngine","NaverIcon","DDGIcon","GithubIcon","WAIcon","searchEngines","setSearchEngines","searchContent","setSearchContent","saveSeletedSearchEngine","selectSearchEngine","sortSearchEngineList","newSelectedSearchEngine","newSearchEngines","filter","s","sort","b","setInitialSearchEngine","getSelectedSearchEngine","find","portal","src","Logo","alt","searchEngine","prev","searchQuery","toLowerCase","open","browseInNewTab","saveSearchHistory","Footer","UserData","searched","history","keyword","Layout","children","LazyTodoList","lazy","LazyBookmarkSection","LazyNote","MainPage","fallback","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d843384b.chunk.js","sourcesContent":["import axios, { AxiosResponse } from 'axios';\r\nimport {\r\n  BookmarkInfo,\r\n  CommonInfo,\r\n} from 'components/feature/main-page/bookmark/bookmark-section';\r\nimport API_URL, { API_HOST } from 'utils/api';\r\nimport { getStorageItem, storageAccessKey } from 'utils/local-storage';\r\n\r\nexport interface IFolderData {\r\n  getAllFolderInfo(): Promise<AxiosResponse<any>>;\r\n  addFolder(title: string): Promise<void>;\r\n  changeFolderName(id: number, title: string): Promise<void>;\r\n  deleteFolder(id: number): Promise<void>;\r\n}\r\nexport interface IBookmarkData {\r\n  getAllBookmarks(): Promise<AxiosResponse<any>>;\r\n  searchBookmarks(name: string): any;\r\n  appendBookmark(bookmarkInfo: CommonInfo): Promise<void>;\r\n  editBookmarkInfo(id: number, info: BookmarkInfo): Promise<void>;\r\n  deleteBookmark(id: number): Promise<void>;\r\n  getAllBookmarksInFolder(id: number): Promise<AxiosResponse<any>>;\r\n}\r\n\r\nclass BookmarkData implements IFolderData, IBookmarkData {\r\n  private base;\r\n  private bookmarkUrl;\r\n  constructor() {\r\n    this.base = axios.create({\r\n      baseURL: API_HOST,\r\n    });\r\n    this.bookmarkUrl = API_URL.bookmarks;\r\n  }\r\n\r\n  async getAllBookmarks() {\r\n    const { bookmarks } = this.bookmarkUrl;\r\n\r\n    const token = getStorageItem(storageAccessKey, '');\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await this.base.get(bookmarks, config);\r\n    return response;\r\n  }\r\n\r\n  async appendBookmark({\r\n    title,\r\n    url,\r\n    description,\r\n    category_title,\r\n  }: CommonInfo) {\r\n    const { bookmarks } = this.bookmarkUrl;\r\n    const data = {\r\n      title,\r\n      url,\r\n      description,\r\n      category_title,\r\n    };\r\n    const token = getStorageItem(storageAccessKey, '');\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    await this.base.post(bookmarks, data, config);\r\n  }\r\n\r\n  async getAllFolderInfo() {\r\n    const { categories } = this.bookmarkUrl;\r\n    const token = getStorageItem(storageAccessKey, '');\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await this.base.get(categories, config);\r\n    return response;\r\n  }\r\n\r\n  async addFolder(title: string) {\r\n    const { categories } = this.bookmarkUrl;\r\n    const data = {\r\n      title,\r\n    };\r\n    const token = getStorageItem(storageAccessKey, '');\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    await this.base.post(categories, data, config);\r\n  }\r\n\r\n  async changeFolderName(id: number, title: string) {\r\n    const { categories } = this.bookmarkUrl;\r\n    const url = `${categories}${id}`;\r\n\r\n    const data = {\r\n      title,\r\n    };\r\n    const token = getStorageItem(storageAccessKey, '');\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    await this.base.put(url, data, config);\r\n  }\r\n\r\n  async editBookmarkInfo(id: number, info: BookmarkInfo) {\r\n    const { bookmarks } = this.bookmarkUrl;\r\n    const url = `${bookmarks}${id}`;\r\n\r\n    const token = getStorageItem(storageAccessKey, '');\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    await this.base.put(url, info, config);\r\n  }\r\n\r\n  async deleteFolder(id: number) {\r\n    const { categories } = this.bookmarkUrl;\r\n    const url = `${categories}${id}`;\r\n\r\n    const token = getStorageItem(storageAccessKey, '');\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    await this.base.delete(url, config);\r\n  }\r\n\r\n  async deleteBookmark(id: number) {\r\n    const { bookmarks } = this.bookmarkUrl;\r\n    const url = `${bookmarks}${id}`;\r\n\r\n    const token = getStorageItem(storageAccessKey, '');\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    await this.base.delete(url, config);\r\n  }\r\n\r\n  async getAllBookmarksInFolder(id: number) {\r\n    const { categories } = this.bookmarkUrl;\r\n    const url = `${categories}${id}`;\r\n\r\n    const token = getStorageItem(storageAccessKey, '');\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await this.base.get(url, config);\r\n    return response;\r\n  }\r\n\r\n  async searchBookmarks(name: string) {\r\n    const { search } = this.bookmarkUrl;\r\n    const url = `${search}?q=${name}`;\r\n\r\n    const token = getStorageItem(storageAccessKey, '');\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await this.base.get(url, config);\r\n    const result = await response.data;\r\n    return result;\r\n  }\r\n}\r\n\r\nexport default BookmarkData;\r\n","import { action, makeObservable, observable } from \"mobx\";\r\nimport BookmarkStore from \"./bookmark-store\";\r\n\r\nclass BookmarkForm {\r\n  private rootStore: BookmarkStore;\r\n\r\n  title: string;\r\n  url: string;\r\n  description: string;\r\n  categoryTitle: string;\r\n\r\n  constructor(root: BookmarkStore) {\r\n    makeObservable(this, {\r\n      title: observable,\r\n      url: observable,\r\n      description: observable,\r\n      categoryTitle: observable,\r\n\r\n      setTitle: action,\r\n      setUrl: action,\r\n      setDescription: action,\r\n      setCategoryTitle: action,\r\n      checkUrl: action,\r\n      resetInfo: action,\r\n    });\r\n\r\n    this.rootStore = root;\r\n\r\n    this.title = \"\";\r\n    this.url = \"\";\r\n    this.description = \"\";\r\n    this.categoryTitle = \"\";\r\n  }\r\n\r\n  setTitle(newTitle: string) {\r\n    this.title = newTitle;\r\n  }\r\n  setUrl(newUrl: string) {\r\n    this.url = newUrl;\r\n  }\r\n  setDescription(newDescription: string) {\r\n    this.description = newDescription;\r\n  }\r\n  setCategoryTitle(newCategotyTitle: string) {\r\n    this.categoryTitle = newCategotyTitle;\r\n  }\r\n  checkUrl = (): string => {\r\n    const front = this.url.slice(0, 4);\r\n    if (front !== \"http\") {\r\n      return \"https://\".concat(this.url);\r\n    }\r\n    return this.url;\r\n  };\r\n  resetInfo() {\r\n    this.title = \"\";\r\n    this.url = \"\";\r\n    this.description = \"\";\r\n    this.categoryTitle = \"\";\r\n  }\r\n}\r\n\r\nexport default BookmarkForm;\r\n","import AuthStore from \"stores/auth-store\";\r\nimport {\r\n  Bookmark,\r\n  BookmarkInfo,\r\n} from \"components/feature/main-page/bookmark/bookmark-section\";\r\nimport { action, makeObservable, observable } from \"mobx\";\r\nimport BookmarkData, { IBookmarkData } from \"utils/bookmark-data\";\r\nimport { RootStore } from \"stores/root-store\";\r\nimport FolderStore from \"./folder-store\";\r\nimport BookmarkForm from \"./bookmark-form-store\";\r\n\r\nclass BookmarkStore {\r\n  private rootStore: RootStore;\r\n\r\n  private bookmarkData: IBookmarkData;\r\n\r\n  rootBookmarks: Bookmark[];\r\n  bookmarksInFolder: Bookmark[];\r\n\r\n  bookmarkForm: BookmarkForm;\r\n\r\n  constructor(\r\n    root: RootStore,\r\n    private authStore: AuthStore,\r\n    private folderStore: FolderStore\r\n  ) {\r\n    makeObservable(this, {\r\n      rootBookmarks: observable,\r\n      bookmarksInFolder: observable,\r\n\r\n      setRootBookmarks: action,\r\n      setBookmarksInFolder: action,\r\n      getAllRootBookmarks: action,\r\n      searchBookmarks: action,\r\n      addBookmark: action,\r\n      editBookmarkInfo: action,\r\n      deleteBookmark: action,\r\n      refreshBookmarkListInFolder: action,\r\n    });\r\n\r\n    this.rootStore = root;\r\n    this.rootBookmarks = [];\r\n    this.bookmarksInFolder = [];\r\n\r\n    this.bookmarkData = new BookmarkData();\r\n\r\n    this.bookmarkForm = new BookmarkForm(this);\r\n  }\r\n\r\n  setRootBookmarks(newRootBookmarks: Bookmark[]) {\r\n    this.rootBookmarks = newRootBookmarks;\r\n  }\r\n\r\n  setBookmarksInFolder(newBookmarksInFolder: Bookmark[]) {\r\n    this.bookmarksInFolder = newBookmarksInFolder;\r\n  }\r\n\r\n  async getAllRootBookmarks() {\r\n    this.authStore.checkAccessToken();\r\n\r\n    try {\r\n      const response = await this.bookmarkData.getAllBookmarks();\r\n      const newRootBookmarks = await response.data[0].bookmarks;\r\n      this.setRootBookmarks(newRootBookmarks);\r\n    } catch (error) {\r\n      this.setRootBookmarks([]);\r\n      if (error.response.status === 403) {\r\n        this.authStore.logout();\r\n        return;\r\n      }\r\n      alert(error.request.response);\r\n    }\r\n  }\r\n\r\n  async searchBookmarks(searchInput: string) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    if (searchInput === \"\") {\r\n      this.getAllRootBookmarks();\r\n      this.folderStore.getAllFolders();\r\n      return;\r\n    }\r\n\r\n    const result = await this.bookmarkData.searchBookmarks(searchInput);\r\n    if (result[0].bookmarks.length === 0) {\r\n      alert(\"원하는 북마크를 찾을 수 없습니다.\");\r\n    } else {\r\n      this.setRootBookmarks(result[0].bookmarks);\r\n      this.folderStore.setFolderInfoList([]);\r\n    }\r\n  }\r\n\r\n  async addBookmark() {\r\n    this.authStore.checkAccessToken();\r\n\r\n    const { title, description, categoryTitle } = this.bookmarkForm;\r\n\r\n    const fixedUrl = this.bookmarkForm.checkUrl();\r\n\r\n    await this.bookmarkData.appendBookmark({\r\n      title,\r\n      url: fixedUrl,\r\n      description,\r\n      category_title: categoryTitle,\r\n    });\r\n    this.getAllRootBookmarks();\r\n  }\r\n\r\n  async editBookmarkInfo(id: number, info: BookmarkInfo) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    await this.bookmarkData.editBookmarkInfo(id, info);\r\n  }\r\n\r\n  async deleteBookmark(id: number) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    await this.bookmarkData.deleteBookmark(id);\r\n  }\r\n\r\n  async refreshBookmarkListInFolder(id: number) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    const response = await this.bookmarkData.getAllBookmarksInFolder(id);\r\n    const result = await response.data;\r\n    this.setBookmarksInFolder(result);\r\n  }\r\n}\r\n\r\nexport default BookmarkStore;\r\n","import axios from \"axios\";\r\nimport API_URL, { API_HOST } from \"utils/api\";\r\nimport {\r\n  getStorageItem,\r\n  removeStorageItem,\r\n  storageAccessKey,\r\n  storageAccessTokenExp,\r\n  storageRefreshKey,\r\n} from \"utils/local-storage\";\r\n\r\nexport interface IAuthService {\r\n  logout(): void;\r\n}\r\n\r\nclass AuthService implements IAuthService {\r\n  private base;\r\n  private userUrl;\r\n\r\n  constructor() {\r\n    this.base = axios.create({\r\n      baseURL: API_HOST,\r\n    });\r\n    this.userUrl = API_URL.users;\r\n  }\r\n\r\n  async verification(email: string) {\r\n    const { verification } = this.userUrl;\r\n    const data = {\r\n      email,\r\n    };\r\n\r\n    const response = await this.base.post(verification, data);\r\n    return response;\r\n  }\r\n\r\n  async verificationCode(code: string) {\r\n    const { verificationCode } = this.userUrl;\r\n    const data = {\r\n      code,\r\n    };\r\n\r\n    const response = await this.base.post(verificationCode, data);\r\n    return response;\r\n  }\r\n\r\n  async register(email: string, password: string) {\r\n    const { signup } = this.userUrl;\r\n    const data = {\r\n      email,\r\n      password,\r\n    };\r\n\r\n    const response = await this.base.post(signup, data);\r\n    return response;\r\n  }\r\n\r\n  async login(email: string, password: string) {\r\n    const { signin } = this.userUrl;\r\n    const data = {\r\n      email,\r\n      password,\r\n    };\r\n\r\n    const response = await this.base.post(signin, data);\r\n    const result = await response.data;\r\n\r\n    return result;\r\n  }\r\n\r\n  logout() {\r\n    removeStorageItem(storageAccessKey);\r\n    removeStorageItem(storageRefreshKey);\r\n    removeStorageItem(storageAccessTokenExp);\r\n  }\r\n\r\n  async refreshToken() {\r\n    console.log(\"token changed\");\r\n    const { refresh } = this.userUrl;\r\n\r\n    const accessToken = getStorageItem(storageAccessKey, \"\");\r\n    const refreshToken = getStorageItem(storageRefreshKey, \"\");\r\n\r\n    const data = {\r\n      accessToken,\r\n      refreshToken,\r\n    };\r\n\r\n    const response = await this.base.post(refresh, data);\r\n    const result = await response.data;\r\n    return result;\r\n  }\r\n\r\n  isTokenExpired() {\r\n    const accessTokenExp = getStorageItem(storageAccessTokenExp, \"\");\r\n    const currentTime = parseInt(Date.now().toString().slice(0, 10));\r\n\r\n    return accessTokenExp - 1000 < currentTime;\r\n  }\r\n}\r\n\r\nexport default AuthService;\r\n","import { action, makeObservable, observable } from \"mobx\";\r\nimport AuthStore from \"./auth-store\";\r\n\r\nclass LoginForm {\r\n  private rootStore: AuthStore;\r\n\r\n  loaded: boolean;\r\n  email: string;\r\n  password: string;\r\n\r\n  constructor(root: AuthStore) {\r\n    makeObservable(this, {\r\n      loaded: observable,\r\n      email: observable,\r\n      password: observable,\r\n\r\n      setLoaded: action,\r\n      setEmail: action,\r\n      setPassword: action,\r\n      resetInfo: action,\r\n    });\r\n\r\n    this.rootStore = root;\r\n\r\n    this.loaded = true;\r\n    this.email = \"\";\r\n    this.password = \"\";\r\n  }\r\n\r\n  setLoaded(newLoadState: boolean) {\r\n    this.loaded = newLoadState;\r\n  }\r\n  setEmail(newEmail: string) {\r\n    this.email = newEmail;\r\n  }\r\n  setPassword(newPassword: string) {\r\n    this.password = newPassword;\r\n  }\r\n  resetInfo() {\r\n    this.email = \"\";\r\n    this.password = \"\";\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import { Steps } from \"components/feature/header/auth/register\";\r\nimport { action, makeObservable, observable } from \"mobx\";\r\nimport AuthStore from \"./auth-store\";\r\n\r\nclass RegisterForm {\r\n  private rootStore: AuthStore;\r\n\r\n  loaded: boolean;\r\n  step: Steps;\r\n  email: string;\r\n  password: string;\r\n  verificationCode: string;\r\n\r\n  constructor(root: AuthStore) {\r\n    makeObservable(this, {\r\n      loaded: observable,\r\n      step: observable,\r\n      email: observable,\r\n      password: observable,\r\n      verificationCode: observable,\r\n\r\n      setLoaded: action,\r\n      setStep: action,\r\n      setEmail: action,\r\n      setVerificationCode: action,\r\n      setPassword: action,\r\n      resetInfo: action,\r\n    });\r\n\r\n    this.rootStore = root;\r\n\r\n    this.loaded = true;\r\n    this.step = \"email\";\r\n    this.email = \"\";\r\n    this.password = \"\";\r\n    this.verificationCode = \"\";\r\n  }\r\n\r\n  setLoaded(newLoadState: boolean) {\r\n    this.loaded = newLoadState;\r\n  }\r\n  setStep(nextStep: Steps) {\r\n    this.step = nextStep;\r\n  }\r\n  setEmail(newEmail: string) {\r\n    this.email = newEmail;\r\n  }\r\n  setPassword(newPassword: string) {\r\n    this.password = newPassword;\r\n  }\r\n  setVerificationCode(newVerificationCode: string) {\r\n    this.verificationCode = newVerificationCode;\r\n  }\r\n  resetInfo() {\r\n    this.email = \"\";\r\n    this.password = \"\";\r\n    this.verificationCode = \"\";\r\n  }\r\n}\r\n\r\nexport default RegisterForm;\r\n","import { action, makeObservable, observable, reaction } from \"mobx\";\r\nimport AuthService from \"utils/auth-service\";\r\nimport {\r\n  setStorageItem,\r\n  storageAccessKey,\r\n  storageAccessTokenExp,\r\n  storageRefreshKey,\r\n} from \"utils/local-storage\";\r\nimport LoginForm from \"stores/login-form-store\";\r\nimport RegisterForm from \"stores/register-form-store\";\r\nimport { RootStore } from \"stores/root-store\";\r\n\r\nclass AuthStore {\r\n  private rootStore: RootStore;\r\n\r\n  onLogin: boolean;\r\n  requireRefresh: boolean;\r\n\r\n  handleToken: () => void;\r\n\r\n  private authService: AuthService;\r\n\r\n  registerForm: RegisterForm;\r\n  loginForm: LoginForm;\r\n\r\n  constructor(root: RootStore) {\r\n    makeObservable(this, {\r\n      onLogin: observable,\r\n      requireRefresh: observable,\r\n\r\n      login: action,\r\n      verificateEmail: action,\r\n      checkVerificationCode: action,\r\n      register: action,\r\n      logout: action,\r\n      checkLoginState: action,\r\n      setRequireRefresh: action,\r\n      refreshToken: action,\r\n      checkAccessToken: action,\r\n    });\r\n\r\n    this.rootStore = root;\r\n    this.onLogin = false;\r\n    this.requireRefresh = false;\r\n\r\n    this.authService = new AuthService();\r\n    this.registerForm = new RegisterForm(this);\r\n    this.loginForm = new LoginForm(this);\r\n\r\n    this.handleToken = reaction(\r\n      () => this.requireRefresh,\r\n      (requireRefresh) => {\r\n        if (requireRefresh) {\r\n          this.authService\r\n            .refreshToken()\r\n            .then((result) => {\r\n              console.log(\"token updated\");\r\n              setStorageItem(storageAccessKey, result.accessToken);\r\n              setStorageItem(storageRefreshKey, result.refreshToken);\r\n              setStorageItem(storageAccessTokenExp, result.accessTokenExp);\r\n            })\r\n            .then(() => {\r\n              this.setRequireRefresh(false);\r\n            });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  async login() {\r\n    const result = await this.authService.login(\r\n      this.loginForm.email,\r\n      this.loginForm.password\r\n    );\r\n    setStorageItem(storageAccessKey, result.accessToken);\r\n    setStorageItem(storageRefreshKey, result.refreshToken);\r\n    setStorageItem(storageAccessTokenExp, result.accessTokenExp);\r\n    this.onLogin = true;\r\n  }\r\n\r\n  async verificateEmail() {\r\n    const response = await this.authService.verification(\r\n      this.registerForm.email\r\n    );\r\n    if (response.status === 201) {\r\n      this.registerForm.setStep(\"verification\");\r\n    }\r\n  }\r\n\r\n  async checkVerificationCode() {\r\n    const response = await this.authService.verificationCode(\r\n      this.registerForm.verificationCode\r\n    );\r\n    if (response.status === 200) {\r\n      this.registerForm.setStep(\"password\");\r\n    }\r\n  }\r\n\r\n  async register() {\r\n    const response = await this.authService.register(\r\n      this.registerForm.email,\r\n      this.registerForm.password\r\n    );\r\n    if (response.status === 201) {\r\n      this.registerForm.setStep(\"success\");\r\n    }\r\n  }\r\n\r\n  async logout() {\r\n    this.authService.logout();\r\n    this.onLogin = false;\r\n  }\r\n\r\n  checkLoginState() {\r\n    try {\r\n      if (this.authService.isTokenExpired()) {\r\n        this.logout();\r\n      } else {\r\n        this.onLogin = true;\r\n      }\r\n    } catch (e) {\r\n      this.logout();\r\n    }\r\n  }\r\n\r\n  setRequireRefresh(state: boolean) {\r\n    this.requireRefresh = state;\r\n  }\r\n\r\n  refreshToken() {\r\n    this.setRequireRefresh(true);\r\n    // this.handleToken();\r\n  }\r\n\r\n  checkAccessToken() {\r\n    try {\r\n      if (this.authService.isTokenExpired()) this.refreshToken();\r\n    } catch (e) {\r\n      this.logout();\r\n    }\r\n  }\r\n}\r\n\r\nexport default AuthStore;\r\n","import AuthStore from \"stores/auth-store\";\r\nimport { FolderInfo } from \"components/feature/main-page/bookmark/bookmark-section\";\r\nimport { action, makeObservable, observable } from \"mobx\";\r\nimport BookmarkData, { IFolderData } from \"utils/bookmark-data\";\r\nimport { RootStore } from \"stores/root-store\";\r\n\r\nclass FolderStore {\r\n  private rootStore: RootStore;\r\n\r\n  private bookmarkData: IFolderData;\r\n\r\n  folderInfoList: FolderInfo[];\r\n  folderNameList: string[];\r\n\r\n  constructor(root: RootStore, private authStore: AuthStore) {\r\n    makeObservable(this, {\r\n      folderInfoList: observable,\r\n      folderNameList: observable,\r\n\r\n      setFolderInfoList: action,\r\n      setFolderNameList: action,\r\n      getAllFolders: action,\r\n      addFolder: action,\r\n      editFolderName: action,\r\n      deleteFolder: action,\r\n    });\r\n\r\n    this.rootStore = root;\r\n    this.folderInfoList = [];\r\n    this.folderNameList = [];\r\n\r\n    this.bookmarkData = new BookmarkData();\r\n  }\r\n\r\n  setFolderInfoList(folderInfoList: FolderInfo[]) {\r\n    this.folderInfoList = folderInfoList;\r\n  }\r\n  setFolderNameList(folderNameList: string[]) {\r\n    this.folderNameList = folderNameList;\r\n  }\r\n\r\n  async getAllFolders() {\r\n    this.authStore.checkAccessToken();\r\n\r\n    try {\r\n      const response = await this.bookmarkData.getAllFolderInfo();\r\n      this.setFolderInfoList(response.data);\r\n      const newFolderNameList = response.data.map(\r\n        (info: FolderInfo) => info.title\r\n      );\r\n      this.setFolderNameList([\"\", ...newFolderNameList]);\r\n    } catch (error) {\r\n      this.setFolderInfoList([]);\r\n      this.setFolderNameList([]);\r\n      if (error.response.status === 403) {\r\n        this.authStore.logout();\r\n      }\r\n    }\r\n  }\r\n\r\n  async addFolder(title: string) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    await this.bookmarkData.addFolder(title);\r\n    this.getAllFolders();\r\n  }\r\n\r\n  async editFolderName(id: number, title: string) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    await this.bookmarkData.changeFolderName(id, title);\r\n    this.getAllFolders();\r\n  }\r\n\r\n  async deleteFolder(id: number) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    await this.bookmarkData.deleteFolder(id);\r\n    this.getAllFolders();\r\n  }\r\n}\r\n\r\nexport default FolderStore;\r\n","import axios from \"axios\";\r\nimport API_URL, { API_HOST } from \"utils/api\";\r\nimport { getStorageItem, storageAccessKey } from \"utils/local-storage\";\r\n\r\nclass NoteData {\r\n  private base;\r\n  private noteUrl;\r\n  constructor() {\r\n    this.base = axios.create({\r\n      baseURL: API_HOST,\r\n    });\r\n    this.noteUrl = API_URL.notes;\r\n  }\r\n\r\n  async getNoteContents() {\r\n    const { notes } = this.noteUrl;\r\n\r\n    const token = getStorageItem(storageAccessKey, \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await this.base.get(notes, config);\r\n    const result = await response.data;\r\n    return result;\r\n  }\r\n\r\n  async editNote(contents: string) {\r\n    const { notes } = this.noteUrl;\r\n\r\n    const token = getStorageItem(storageAccessKey, \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const data = {\r\n      contents,\r\n    };\r\n\r\n    const response = await this.base.post(notes, data, config);\r\n    return response;\r\n  }\r\n\r\n  async deleteAllNote() {\r\n    const { notes } = this.noteUrl;\r\n\r\n    const token = getStorageItem(storageAccessKey, \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    await this.base.delete(notes, config);\r\n  }\r\n}\r\n\r\nexport default NoteData;\r\n","import AuthStore from \"stores/auth-store\";\r\nimport { action, makeObservable, observable } from \"mobx\";\r\nimport { RootStore } from \"stores/root-store\";\r\nimport NoteData from \"utils/note-data\";\r\n\r\nclass NoteStore {\r\n  private rootStore: RootStore;\r\n\r\n  private noteData: NoteData;\r\n\r\n  note: string;\r\n\r\n  constructor(root: RootStore, private authStore: AuthStore) {\r\n    makeObservable(this, {\r\n      note: observable,\r\n\r\n      setNote: action,\r\n      refreshNoteContents: action,\r\n      editNoteContents: action,\r\n      deleteNoteContents: action,\r\n    });\r\n\r\n    this.rootStore = root;\r\n\r\n    this.noteData = new NoteData();\r\n\r\n    this.note = \"\";\r\n  }\r\n\r\n  setNote(content: string) {\r\n    this.note = content;\r\n  }\r\n\r\n  async refreshNoteContents() {\r\n    if (!this.authStore.onLogin) {\r\n      this.setNote(\"\");\r\n      return;\r\n    }\r\n    try {\r\n      const result = await this.noteData.getNoteContents();\r\n      this.setNote(result.contents);\r\n    } catch (error) {\r\n      alert(error.request.response);\r\n      this.setNote(\"\");\r\n    }\r\n  }\r\n\r\n  async editNoteContents(contents: string) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    await this.noteData.editNote(contents);\r\n    await this.refreshNoteContents();\r\n  }\r\n\r\n  async deleteNoteContents() {\r\n    this.authStore.checkAccessToken();\r\n\r\n    await this.noteData.deleteAllNote();\r\n    await this.refreshNoteContents();\r\n  }\r\n}\r\n\r\nexport default NoteStore;\r\n","import axios from \"axios\";\r\nimport API_URL, { API_HOST } from \"utils/api\";\r\nimport { getStorageItem, storageAccessKey } from \"utils/local-storage\";\r\n\r\nclass TodoData {\r\n  private base;\r\n  private todoUrl;\r\n  constructor() {\r\n    this.base = axios.create({\r\n      baseURL: API_HOST,\r\n    });\r\n    this.todoUrl = API_URL.notes;\r\n  }\r\n\r\n  async getAllTodoList() {\r\n    const { todo } = this.todoUrl;\r\n\r\n    const token = getStorageItem(storageAccessKey, \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await this.base.get(todo, config);\r\n    const result = await response.data;\r\n    return result;\r\n  }\r\n\r\n  async addTodo(contents: string) {\r\n    const { todo } = this.todoUrl;\r\n\r\n    const data = {\r\n      contents,\r\n    };\r\n\r\n    const token = getStorageItem(storageAccessKey, \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    const response = await this.base.post(todo, data, config);\r\n    return response;\r\n  }\r\n\r\n  async completeTodo(id: number) {\r\n    const { completed } = this.todoUrl;\r\n    const url = `${completed}${id}`;\r\n\r\n    const token = getStorageItem(storageAccessKey, \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    await this.base.put(url, \"\", config);\r\n  }\r\n\r\n  async updateTodo(id: number, contents: string) {\r\n    const { todo } = this.todoUrl;\r\n    const url = `${todo}/${id}`;\r\n\r\n    const data = {\r\n      contents,\r\n    };\r\n\r\n    const token = getStorageItem(storageAccessKey, \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    await this.base.put(url, data, config);\r\n  }\r\n\r\n  async deleteTodo(id: number) {\r\n    const { todo } = this.todoUrl;\r\n    const url = `${todo}/${id}`;\r\n\r\n    const token = getStorageItem(storageAccessKey, \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    await this.base.delete(url, config);\r\n  }\r\n}\r\n\r\nexport default TodoData;\r\n","import AuthStore from \"stores/auth-store\";\r\nimport { action, makeObservable, observable } from \"mobx\";\r\nimport { RootStore } from \"stores/root-store\";\r\nimport TodoData from \"utils/todo-data\";\r\nimport { Todo } from \"components/feature/main-page/memo/todo-list\";\r\n\r\nclass TodoStore {\r\n  private rootStore: RootStore;\r\n\r\n  private todoData: TodoData;\r\n\r\n  todoList: Todo[];\r\n\r\n  constructor(root: RootStore, private authStore: AuthStore) {\r\n    makeObservable(this, {\r\n      todoList: observable,\r\n\r\n      setTodoList: action,\r\n      refreshTodoList: action,\r\n      addTodo: action,\r\n      deleteTodo: action,\r\n      completeTodo: action,\r\n      editTodo: action,\r\n    });\r\n\r\n    this.rootStore = root;\r\n\r\n    this.todoData = new TodoData();\r\n\r\n    this.todoList = [];\r\n  }\r\n\r\n  setTodoList(todos: Todo[]) {\r\n    this.todoList = todos;\r\n  }\r\n\r\n  async refreshTodoList() {\r\n    if (!this.authStore.onLogin) {\r\n      this.setTodoList([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const result = await this.todoData.getAllTodoList();\r\n      this.setTodoList(result.todos);\r\n    } catch (error) {\r\n      alert(error.request.response);\r\n    }\r\n  }\r\n\r\n  async addTodo(contents: string) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    await this.todoData.addTodo(contents);\r\n    await this.refreshTodoList();\r\n  }\r\n\r\n  async deleteTodo(id: number) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    await this.todoData.deleteTodo(id);\r\n    await this.refreshTodoList();\r\n  }\r\n\r\n  async completeTodo(id: number) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    await this.todoData.completeTodo(id);\r\n  }\r\n\r\n  async editTodo(id: number, contents: string) {\r\n    this.authStore.checkAccessToken();\r\n\r\n    await this.todoData.updateTodo(id, contents);\r\n  }\r\n}\r\n\r\nexport default TodoStore;\r\n","import BookmarkStore from \"stores/bookmark-store\";\r\nimport AuthStore from \"stores/auth-store\";\r\nimport FolderStore from \"stores/folder-store\";\r\nimport NoteStore from \"./note-store\";\r\nimport TodoStore from \"./todo-store\";\r\nexport class RootStore {\r\n  authStore: AuthStore;\r\n  folderStore: FolderStore;\r\n  bookmarkStore: BookmarkStore;\r\n  noteStore: NoteStore;\r\n  todoStore: TodoStore;\r\n\r\n  constructor() {\r\n    this.authStore = new AuthStore(this);\r\n    this.folderStore = new FolderStore(this, this.authStore);\r\n    this.bookmarkStore = new BookmarkStore(\r\n      this,\r\n      this.authStore,\r\n      this.folderStore\r\n    );\r\n    this.noteStore = new NoteStore(this, this.authStore);\r\n    this.todoStore = new TodoStore(this, this.authStore);\r\n  }\r\n}\r\n","import { createContext, ReactNode, useContext } from \"react\";\r\nimport { RootStore } from \"stores/root-store\";\r\n\r\nconst StoreContext = createContext(new RootStore());\r\n\r\ntype Props = {\r\n  children: ReactNode;\r\n};\r\n\r\nexport const StoreProvider = ({ children }: Props) => {\r\n  const rootStore = new RootStore();\r\n\r\n  return (\r\n    <StoreContext.Provider value={rootStore}>{children}</StoreContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useStoreContext = () => useContext(StoreContext);\r\n","import React, { useEffect } from 'react';\r\nimport 'components/feature/header/auth/login.scss';\r\nimport { SelectedForm } from 'components/layout/header';\r\nimport styled from 'styled-components';\r\nimport { observer } from 'mobx-react';\r\nimport AuthStore from 'stores/auth-store';\r\n\r\nexport const LoadingSpinner = styled.div`\r\n  width: 1.2rem;\r\n  height: 1.2rem;\r\n  border-radius: 50%;\r\n  border: solid 0.2rem #ebebeb;\r\n  border-top: solid 0.2rem #8bb7ee;\r\n  animation: spin 1s linear infinite;\r\n`;\r\n\r\ntype Props = {\r\n  authStore: AuthStore;\r\n  setShowSelectedForm: React.Dispatch<React.SetStateAction<SelectedForm>>;\r\n};\r\n\r\nconst Login = observer(({ authStore, setShowSelectedForm }: Props) => {\r\n  const { loginForm } = authStore;\r\n  useEffect(() => {\r\n    return () => loginForm.resetInfo();\r\n  }, []);\r\n\r\n  const handleSubmitLogin = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    loginForm.setLoaded(false);\r\n    try {\r\n      await authStore.login();\r\n      if (authStore.onLogin) setShowSelectedForm('close');\r\n    } catch (error) {\r\n      alert(error.request.response);\r\n    }\r\n    loginForm.setLoaded(true);\r\n  };\r\n\r\n  return (\r\n    <form\r\n      className=\"login-form\"\r\n      onSubmit={(e: React.FormEvent<HTMLFormElement>) => handleSubmitLogin(e)}\r\n    >\r\n      <div className=\"login-header\">\r\n        <p className=\"login-title\">Login</p>\r\n      </div>\r\n      <section className=\"login-input\">\r\n        <input\r\n          type=\"email\"\r\n          className=\"login-email\"\r\n          placeholder=\"Email\"\r\n          value={loginForm.email}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            loginForm.setEmail(e.target.value);\r\n          }}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          className=\"login-password\"\r\n          placeholder=\"Password\"\r\n          value={loginForm.password}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            loginForm.setPassword(e.target.value);\r\n          }}\r\n          required\r\n        />\r\n      </section>\r\n      <section className=\"login-buttons\">\r\n        <button\r\n          className={`login-submit ${loginForm.loaded ? '' : 'loading'}`}\r\n          type=\"submit\"\r\n        >\r\n          {loginForm.loaded ? 'Login' : <LoadingSpinner />}\r\n        </button>\r\n        <button\r\n          className=\"login-otherOption\"\r\n          type=\"button\"\r\n          onClick={() => {\r\n            setShowSelectedForm('register');\r\n          }}\r\n        >\r\n          SignUp\r\n        </button>\r\n      </section>\r\n    </form>\r\n  );\r\n});\r\n\r\nexport default Login;\r\n","import React, { useMemo, useEffect } from 'react';\r\nimport 'components/feature/header/auth/register.scss';\r\nimport { SelectedForm } from 'components/layout/header';\r\nimport { LoadingSpinner } from 'components/feature/header/auth/login';\r\nimport AuthStore from 'stores/auth-store';\r\nimport { observer } from 'mobx-react';\r\n\r\ntype Props = {\r\n  authStore: AuthStore;\r\n  setShowSelectedForm: React.Dispatch<React.SetStateAction<SelectedForm>>;\r\n};\r\n\r\nexport type Steps = 'email' | 'verification' | 'password' | 'success';\r\n\r\nconst Register = observer(({ authStore, setShowSelectedForm }: Props) => {\r\n  const { registerForm } = authStore;\r\n\r\n  useEffect(() => {\r\n    return () => registerForm.resetInfo();\r\n  }, []);\r\n\r\n  const showHeader = (): React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLDivElement>,\r\n    HTMLDivElement\r\n  > => {\r\n    return (\r\n      <div className=\"register-header\">\r\n        <p className=\"register-title\">SignUp</p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const checkPasswordLength = useMemo((): boolean => {\r\n    return registerForm.password.length >= 8;\r\n  }, [registerForm.password]);\r\n\r\n  const handleSubmitEmail = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    registerForm.setLoaded(false);\r\n    try {\r\n      await authStore.verificateEmail();\r\n    } catch (error) {\r\n      alert(error.request.response);\r\n      registerForm.setStep('email');\r\n    }\r\n    registerForm.setLoaded(true);\r\n  };\r\n\r\n  const showEmailInput = (): React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLElement>,\r\n    HTMLElement\r\n  > => {\r\n    return (\r\n      <form\r\n        className=\"register-form\"\r\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => handleSubmitEmail(e)}\r\n      >\r\n        {showHeader()}\r\n        <section className=\"register-input\">\r\n          <input\r\n            type=\"email\"\r\n            className=\"register-email\"\r\n            placeholder=\"Email\"\r\n            value={registerForm.email}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n              registerForm.setEmail(e.target.value);\r\n            }}\r\n            required\r\n          />\r\n        </section>\r\n        <section className=\"register-buttons\">\r\n          <button\r\n            className={`register-submit ${\r\n              registerForm.loaded ? '' : 'loading'\r\n            }`}\r\n            type=\"submit\"\r\n          >\r\n            {registerForm.loaded ? '인증 요청하기' : <LoadingSpinner />}\r\n          </button>\r\n          <button\r\n            className=\"register-otherOption\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              registerForm.setStep('email');\r\n              setShowSelectedForm('login');\r\n            }}\r\n          >\r\n            Login\r\n          </button>\r\n        </section>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  const handleSubmitCode = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    registerForm.setLoaded(false);\r\n    try {\r\n      await authStore.checkVerificationCode();\r\n    } catch (error) {\r\n      alert(error.request.response);\r\n    }\r\n    registerForm.setLoaded(true);\r\n  };\r\n\r\n  const showVerificationCodeInput = (): React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLElement>,\r\n    HTMLElement\r\n  > => {\r\n    return (\r\n      <form\r\n        className=\"register-form\"\r\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) => handleSubmitCode(e)}\r\n      >\r\n        {showHeader()}\r\n        <section className=\"register-input\">\r\n          <input\r\n            className=\"register-verification\"\r\n            placeholder=\"Verification Code\"\r\n            value={registerForm.verificationCode}\r\n            required\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n              registerForm.setVerificationCode(e.target.value);\r\n            }}\r\n          />\r\n        </section>\r\n        <section className=\"register-buttons\">\r\n          <button\r\n            className={`register-submit ${\r\n              registerForm.loaded ? '' : 'loading'\r\n            }`}\r\n            type=\"submit\"\r\n          >\r\n            {registerForm.loaded ? '인증하기' : <LoadingSpinner />}\r\n          </button>\r\n          <button\r\n            className=\"register-otherOption\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              registerForm.setStep('email');\r\n              setShowSelectedForm('login');\r\n            }}\r\n          >\r\n            Login\r\n          </button>\r\n        </section>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  const handleSubmitPassword = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!checkPasswordLength) return;\r\n\r\n    registerForm.setLoaded(false);\r\n    try {\r\n      await authStore.register();\r\n    } catch (error) {\r\n      alert(error.request.response);\r\n      registerForm.setStep('email');\r\n    }\r\n    registerForm.setLoaded(true);\r\n  };\r\n\r\n  const showPasswordInput = (): React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLElement>,\r\n    HTMLElement\r\n  > => {\r\n    return (\r\n      <form\r\n        className=\"register-form\"\r\n        onSubmit={(e: React.FormEvent<HTMLFormElement>) =>\r\n          handleSubmitPassword(e)\r\n        }\r\n      >\r\n        {showHeader()}\r\n        <section className=\"register-input\">\r\n          <input\r\n            type=\"password\"\r\n            className=\"register-password\"\r\n            placeholder=\"Password\"\r\n            value={registerForm.password}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n              registerForm.setPassword(e.target.value);\r\n            }}\r\n            required\r\n          />\r\n          <p className={`register-alert ${checkPasswordLength ? '' : 'alert'}`}>\r\n            {checkPasswordLength\r\n              ? '사용 가능한 비밀번호 입니다'\r\n              : '비밀번호는 8글자 이상이어야 합니다.'}\r\n          </p>\r\n        </section>\r\n        <section className=\"register-buttons\">\r\n          <button\r\n            className={`register-submit ${\r\n              registerForm.loaded ? '' : 'loading'\r\n            }`}\r\n            type=\"submit\"\r\n          >\r\n            {registerForm.loaded ? '회원가입 하기' : <LoadingSpinner />}\r\n          </button>\r\n          <button\r\n            className=\"register-otherOption\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              registerForm.setStep('email');\r\n              setShowSelectedForm('login');\r\n            }}\r\n          >\r\n            Login\r\n          </button>\r\n        </section>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  const showSuccessPage = (): React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLElement>,\r\n    HTMLElement\r\n  > => {\r\n    return (\r\n      <form className=\"register-form\">\r\n        {showHeader()}\r\n        <section className=\"register-notification\">\r\n          <h3>회원가입에 성공하였습니다!</h3>\r\n        </section>\r\n        <section className=\"register-buttons\">\r\n          <button\r\n            className=\"register-button\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              registerForm.setStep('email');\r\n              setShowSelectedForm('login');\r\n            }}\r\n          >\r\n            로그인 하러가기\r\n          </button>\r\n        </section>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  const showFailPage = (): React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLElement>,\r\n    HTMLElement\r\n  > => {\r\n    return (\r\n      <form className=\"register-form\">\r\n        {showHeader()}\r\n        <section className=\"register-notification\">\r\n          <h2>회원가입에 실패하였습니다!</h2>\r\n        </section>\r\n        <section className=\"register-buttons\">\r\n          <button\r\n            className=\"register-button\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              registerForm.setStep('email');\r\n            }}\r\n          >\r\n            다시 회원가입 하러가기\r\n          </button>\r\n        </section>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {registerForm.step === 'email' && showEmailInput()}\r\n      {registerForm.step === 'verification' && showVerificationCodeInput()}\r\n      {registerForm.step === 'password' && showPasswordInput()}\r\n      {registerForm.step === 'success' && showSuccessPage()}\r\n    </>\r\n  );\r\n});\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport 'components/feature/header/auth/auth.scss';\r\nimport styled from 'styled-components';\r\nimport Login from './login';\r\nimport Register from './register';\r\nimport { SelectedForm } from 'components/layout/header';\r\nimport AuthStore from 'stores/auth-store';\r\nimport { observer } from 'mobx-react';\r\n\r\nexport const DarkModalSection = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 10;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  cursor: auto;\r\n`;\r\n\r\ntype Props = {\r\n  authStore: AuthStore;\r\n  showSelectedForm: SelectedForm;\r\n  setShowSelectedForm: React.Dispatch<React.SetStateAction<SelectedForm>>;\r\n};\r\n\r\nconst Auth = observer(\r\n  ({ authStore, showSelectedForm, setShowSelectedForm }: Props) => {\r\n    return (\r\n      <DarkModalSection>\r\n        {showSelectedForm === 'login' && (\r\n          <Login\r\n            authStore={authStore}\r\n            setShowSelectedForm={setShowSelectedForm}\r\n          />\r\n        )}\r\n        {showSelectedForm === 'register' && (\r\n          <Register\r\n            authStore={authStore}\r\n            setShowSelectedForm={setShowSelectedForm}\r\n          />\r\n        )}\r\n      </DarkModalSection>\r\n    );\r\n  }\r\n);\r\n\r\nexport default Auth;\r\n","export const storageAccessKey = \"IFLAG_STORAGE_ACCESS_KEY\";\r\nexport const storageRefreshKey = \"IFLAG_STORAGE_REFRESH_KEY\";\r\nexport const storageAccessTokenExp = \"IFLAG_STORAGE_ACCESS_TOKEN_EXP\";\r\n\r\nexport const getStorageItem = (key: string, initialValue: string) => {\r\n  try {\r\n    const item = window.localStorage.getItem(key);\r\n    return item ? JSON.parse(item) : initialValue;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return initialValue;\r\n  }\r\n};\r\n\r\nexport const setStorageItem = (key: string, value: string) => {\r\n  try {\r\n    window.localStorage.setItem(key, JSON.stringify(value));\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const removeStorageItem = (key: string) => {\r\n  try {\r\n    window.localStorage.removeItem(key);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/github.e21209f2.svg\";","export default __webpack_public_path__ + \"static/media/ddg.15e7ccd6.svg\";","export default __webpack_public_path__ + \"static/media/google.fc4f52a0.svg\";","export default __webpack_public_path__ + \"static/media/naver.1ed48714.png\";","export default __webpack_public_path__ + \"static/media/wa.64e6b3ee.svg\";","export default __webpack_public_path__ + \"static/media/iflag-logo.820155c5.svg\";","import React, { useEffect, useState } from \"react\";\r\nimport { HiOutlineArrowCircleRight } from \"react-icons/hi\";\r\nimport \"components/layout/header.scss\";\r\nimport UserData from \"utils/user-data\";\r\nimport Auth from \"components/feature/header/auth/auth\";\r\nimport GithubIcon from \"assets/images/github.svg\";\r\nimport DDGIcon from \"assets/images/ddg.svg\";\r\nimport GoogleIcon from \"assets/images/google.svg\";\r\nimport NaverIcon from \"assets/images/naver.png\";\r\nimport WAIcon from \"assets/images/wa.svg\";\r\nimport Logo from \"assets/images/iflag-logo.svg\";\r\nimport AuthStore from \"stores/auth-store\";\r\nimport { observer } from \"mobx-react\";\r\n\r\ntype Props = {\r\n  userData: UserData;\r\n  authStore: AuthStore;\r\n};\r\n\r\nexport type SelectedForm = \"close\" | \"login\" | \"register\" | \"findPassword\";\r\n\r\ntype SearchEngineInfo = {\r\n  key: number;\r\n  name: string;\r\n  image: string;\r\n  abbreviation: string;\r\n  fullName?: string;\r\n};\r\n\r\nconst Header = observer(({ userData, authStore }: Props) => {\r\n  const [toggleButtonList, setToggleButtonList] = useState(false);\r\n  const [selectedSearchEngine, setSelectedSearchEngine] =\r\n    useState<SearchEngineInfo>({\r\n      key: 1,\r\n      name: \"Google\",\r\n      image: GoogleIcon,\r\n      abbreviation: \"G\",\r\n      fullName: \"google\",\r\n    });\r\n  const [searchEngines, setSearchEngines] = useState<SearchEngineInfo[]>([\r\n    {\r\n      key: 1,\r\n      name: \"Google\",\r\n      image: GoogleIcon,\r\n      abbreviation: \"G\",\r\n      fullName: \"google\",\r\n    },\r\n    {\r\n      key: 2,\r\n      name: \"Naver\",\r\n      image: NaverIcon,\r\n      abbreviation: \"N\",\r\n      fullName: \"naver\",\r\n    },\r\n    {\r\n      key: 3,\r\n      name: \"DDG\",\r\n      image: DDGIcon,\r\n      abbreviation: \"D\",\r\n      fullName: \"duckduckgo\",\r\n    },\r\n    {\r\n      key: 4,\r\n      name: \"Github\",\r\n      image: GithubIcon,\r\n      abbreviation: \"GH\",\r\n      fullName: \"github\",\r\n    },\r\n    {\r\n      key: 5,\r\n      name: \"WA\",\r\n      image: WAIcon,\r\n      abbreviation: \"WA\",\r\n      fullName: \"wolfram alpha\",\r\n    },\r\n  ]);\r\n  const [searchContent, setSearchContent] = useState(\"\");\r\n  const [showSelectedForm, setShowSelectedForm] =\r\n    useState<SelectedForm>(\"close\");\r\n\r\n  const saveSeletedSearchEngine = async () => {\r\n    if (!authStore.onLogin) return;\r\n    try {\r\n      await userData.selectSearchEngine(selectedSearchEngine.abbreviation);\r\n    } catch (error) {\r\n      alert(error.request.response);\r\n    }\r\n  };\r\n\r\n  const sortSearchEngineList = (newSelectedSearchEngine: SearchEngineInfo) => {\r\n    const newSearchEngines = searchEngines.filter(\r\n      (s) => s.key !== newSelectedSearchEngine.key\r\n    );\r\n    newSearchEngines.sort((a, b) => a.key - b.key);\r\n    setSearchEngines([newSelectedSearchEngine, ...newSearchEngines]);\r\n  };\r\n\r\n  const setInitialSearchEngine = async () => {\r\n    const result = await userData.getSelectedSearchEngine();\r\n    const newSelectedSearchEngine = searchEngines.find(\r\n      (s) => s.fullName === result.portal\r\n    );\r\n    if (newSelectedSearchEngine) {\r\n      setSelectedSearchEngine(newSelectedSearchEngine);\r\n      sortSearchEngineList(newSelectedSearchEngine);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    try {\r\n      setInitialSearchEngine();\r\n    } catch (error) {\r\n      if (error.request.status === 403) {\r\n        authStore.logout();\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    saveSeletedSearchEngine();\r\n  }, [selectedSearchEngine]);\r\n\r\n  useEffect(() => {\r\n    if (authStore.onLogin) {\r\n      setShowSelectedForm(\"close\");\r\n    } else {\r\n      setShowSelectedForm(\"login\");\r\n    }\r\n  }, [authStore.onLogin]);\r\n\r\n  const browseInNewTab = () => {\r\n    const searchQuery =\r\n      selectedSearchEngine.name === \"DDG\"\r\n        ? \"\"\r\n        : `!${selectedSearchEngine.name.toLowerCase()}+`;\r\n    window.open(\r\n      `https://duckduckgo.com/?q=${searchQuery}${searchContent}`,\r\n      \"_blank\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header-main\">\r\n        <img className=\"header-logo\" src={Logo} alt=\"logo\" />\r\n        <div className=\"header-search\">\r\n          <ul className=\"header-buttonList\">\r\n            {searchEngines.map(\r\n              (\r\n                searchEngine: SearchEngineInfo\r\n              ): React.DetailedHTMLProps<\r\n                React.LiHTMLAttributes<HTMLLIElement>,\r\n                HTMLLIElement\r\n              > => (\r\n                <li key={searchEngine.key} className=\"header-buttonItem\">\r\n                  <button\r\n                    className={`header-searchEngine ${\r\n                      toggleButtonList ||\r\n                      selectedSearchEngine.name === searchEngine.name\r\n                        ? \"visible\"\r\n                        : \"\"\r\n                    }`}\r\n                    onClick={() => {\r\n                      setToggleButtonList((prev) => !prev);\r\n                      setSelectedSearchEngine(searchEngine);\r\n                      sortSearchEngineList(searchEngine);\r\n                    }}\r\n                  >\r\n                    <img\r\n                      className=\"header-searchEngine-img\"\r\n                      src={searchEngine.image}\r\n                      alt=\"searchEngine-logo\"\r\n                    />\r\n                    {searchEngine.name}\r\n                  </button>\r\n                </li>\r\n              )\r\n            )}\r\n          </ul>\r\n          <form\r\n            className=\"header-searchForm\"\r\n            onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\r\n              e.preventDefault();\r\n              browseInNewTab();\r\n              userData.saveSearchHistory(searchContent);\r\n            }}\r\n          >\r\n            <input\r\n              className=\"header-searchInput\"\r\n              value={searchContent}\r\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n                e.preventDefault();\r\n                setSearchContent(e.target.value);\r\n              }}\r\n            />\r\n            <button className=\"header-searchButton\" type=\"submit\">\r\n              <HiOutlineArrowCircleRight />\r\n            </button>\r\n          </form>\r\n        </div>\r\n        {authStore.onLogin ? (\r\n          <button\r\n            className=\"header-logoutButton\"\r\n            onClick={() => {\r\n              authStore.logout();\r\n            }}\r\n          >\r\n            Logout\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"header-loginButton\"\r\n            onClick={() => setShowSelectedForm(\"login\")}\r\n          >\r\n            Login\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* <div className=\"header-recentSearch\">\r\n        <p>Recently</p>\r\n        최근 검색어는 배열을 받아와서 map으로 보이게하고 클릭하면 검색되도록\r\n        <p>iflag</p>\r\n      </div> */}\r\n      {showSelectedForm !== \"close\" && (\r\n        <Auth\r\n          authStore={authStore}\r\n          showSelectedForm={showSelectedForm}\r\n          setShowSelectedForm={setShowSelectedForm}\r\n        />\r\n      )}\r\n    </header>\r\n  );\r\n});\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport 'components/layout/footer.scss';\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"footer\">\r\n      <p className=\"footer-title\">IFLAG</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import axios from \"axios\";\r\nimport API_URL, { API_HOST } from \"utils/api\";\r\nimport { getStorageItem, storageAccessKey } from \"utils/local-storage\";\r\ninterface UserDataInterface {\r\n  selectSearchEngine(mode: string): Promise<void>;\r\n}\r\nclass UserData implements UserDataInterface {\r\n  private base;\r\n  private userUrl;\r\n  constructor() {\r\n    this.base = axios.create({\r\n      baseURL: API_HOST,\r\n    });\r\n    this.userUrl = API_URL.users;\r\n  }\r\n\r\n  async selectSearchEngine(searchEngine: string): Promise<void> {\r\n    const { portal } = this.userUrl;\r\n    const data = {\r\n      portal: searchEngine,\r\n    };\r\n\r\n    const token = getStorageItem(storageAccessKey, \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n    await this.base.post(portal, data, config);\r\n  }\r\n\r\n  async getSelectedSearchEngine() {\r\n    const { portal } = this.userUrl;\r\n\r\n    const token = getStorageItem(storageAccessKey, \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n    const response = await this.base.get(portal, config);\r\n    const result = await response.data;\r\n    return result;\r\n  }\r\n\r\n  async saveSearchHistory(searched: string) {\r\n    const { history } = this.userUrl;\r\n    const data = {\r\n      keyword: searched,\r\n    };\r\n\r\n    const token = getStorageItem(storageAccessKey, \"\");\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    await this.base.post(history, data, config);\r\n  }\r\n}\r\n\r\nexport default UserData;\r\n","import React from 'react';\r\nimport Header from 'components/layout/header';\r\nimport Footer from 'components/layout/footer';\r\nimport UserData from 'utils/user-data';\r\nimport { useStoreContext } from 'contexts/store-context';\r\nimport { observer } from 'mobx-react';\r\n\r\ntype Props = {\r\n  children: React.ReactNode;\r\n};\r\n\r\nconst userData = new UserData();\r\n\r\nconst Layout = observer(({ children }: Props) => {\r\n  const { authStore } = useStoreContext();\r\n  return (\r\n    <>\r\n      <Header userData={userData} authStore={authStore} />\r\n      {children}\r\n      <Footer />\r\n    </>\r\n  );\r\n});\r\n\r\nexport default Layout;\r\n","import Layout from \"components/layout\";\r\nimport { observer } from \"mobx-react\";\r\nimport \"pages/main-page/main-page.scss\";\r\nimport { lazy, Suspense } from \"react\";\r\nimport AuthStore from \"stores/auth-store\";\r\n\r\ntype Props = {\r\n  authStore: AuthStore;\r\n};\r\n\r\nconst LazyTodoList = lazy(\r\n  () => import(\"components/feature/main-page/memo/todo-list\")\r\n);\r\nconst LazyBookmarkSection = lazy(\r\n  () => import(\"components/feature/main-page/bookmark/bookmark-section\")\r\n);\r\nconst LazyNote = lazy(() => import(\"components/feature/main-page/memo/note\"));\r\n\r\nconst MainPage = observer(({ authStore }: Props) => {\r\n  return (\r\n    <Layout>\r\n      <div className=\"mainpage\">\r\n        <Suspense fallback={null}>\r\n          <LazyTodoList authStore={authStore} />\r\n          <LazyBookmarkSection authStore={authStore} />\r\n          <LazyNote authStore={authStore} />\r\n        </Suspense>\r\n      </div>\r\n    </Layout>\r\n  );\r\n});\r\n\r\nexport default MainPage;\r\n","import MainPage from \"pages/main-page/main-page\";\r\nimport { useEffect } from \"react\";\r\nimport \"App.scss\";\r\nimport { useStoreContext } from \"contexts/store-context\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nconst App = observer(() => {\r\n  const { authStore } = useStoreContext();\r\n\r\n  useEffect(() => {\r\n    authStore.checkLoginState();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <MainPage authStore={authStore} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"App\";\r\nimport \"index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","const version = \"v1\";\r\n\r\nexport const API_HOST = \"https://api.iflag.co/\" + version;\r\n\r\nconst API_URL = {\r\n  users: {\r\n    verification: \"/users/verification\",\r\n    verificationCode: \"/users/verification/code\",\r\n    signin: \"/users/signin/\",\r\n    signup: \"/users/signup\",\r\n    portal: \"/users/portal\",\r\n    history: \"/users/history\",\r\n    refresh: \"/users/token/refresh/\",\r\n  },\r\n  bookmarks: {\r\n    bookmarks: \"/bookmarks/\",\r\n    categories: \"/bookmarks/categories/\",\r\n    search: \"/bookmarks/search\",\r\n  },\r\n  notes: {\r\n    notes: \"/notes/\",\r\n    todo: \"/notes/todolist\",\r\n    completed: \"/notes/todolist/completed/\",\r\n  },\r\n};\r\n\r\nexport default API_URL;\r\n"],"sourceRoot":""}